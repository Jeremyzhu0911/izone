(function(t){function e(e){for(var a,s,r=e[0],c=e[1],u=e[2],d=0,f=[];d<r.length;d++)s=r[d],i[s]&&f.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("9565"),i=n.n(a);i.a},"05be":function(t,e,n){},"08ce":function(t,e,n){},"0ae1":function(t,e,n){},10:function(t,e){},1169:function(t,e,n){},"21de":function(t,e,n){"use strict";var a=n("08ce"),i=n.n(a);i.a},"2dc3":function(t,e,n){"use strict";var a=n("0ae1"),i=n.n(a);i.a},"3a3f":function(t,e,n){},"3a93":function(t,e,n){},"3c40":function(t,e,n){},"4b44":function(t,e,n){},"4dcb":function(t,e,n){},5297:function(t,e,n){"use strict";var a=n("a32b"),i=n.n(a);i.a},5352:function(t,e,n){},"53d1":function(t,e,n){"use strict";var a=n("b0ab"),i=n.n(a);i.a},5488:function(t,e,n){"use strict";var a=n("5352"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout",attrs:{id:"app"}},[n("Layout",[t.isGame?n("Header",[n("div",{staticClass:"layout-logo"},[t._v("Izone")]),n("div",{staticClass:"layout-nav"},[n("Nav")],1)]):t._e(),n("router-view")],1)],1)},o=[],s=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Menu",{attrs:{mode:"horizontal","active-name":"1",theme:"dark"}},[n("MenuItem",{attrs:{name:"1",to:"/"}},[n("Icon",{attrs:{type:"ios-paper"}}),t._v("\n        首页\n    ")],1),n("MenuItem",{attrs:{name:"2",to:"/img_category"}},[n("Icon",{attrs:{type:"ios-people"}}),t._v("\n        影集\n    ")],1),n("MenuItem",{attrs:{name:"3",to:"/video"}},[n("Icon",{attrs:{type:"ios-people"}}),t._v("\n        视频\n    ")],1),n("MenuItem",{attrs:{name:"4",to:"/about"}},[n("Icon",{attrs:{type:"ios-people"}}),t._v("\n        关于我的\n    ")],1),n("MenuItem",{attrs:{name:"5",to:"/game"}},[n("Icon",{attrs:{type:"ios-people"}}),t._v("\n        小游戏\n    ")],1)],1)}),r=[],c={name:"Nav",data:function(){return{}},created:function(){},methods:{}},u=c,l=n("2877"),d=Object(l["a"])(u,s,r,!1,null,null,null);d.options.__file="Nav.vue";var f=d.exports,p={name:"app",components:{Nav:f},data:function(){return{isGame:!0}},methods:{routeChange:function(t){"game"==t.name?(this.isGame=!1,n("e311")):this.isGame=!0}},created:function(){"game"==this.$route.name&&(this.isGame=!1)},watch:{$route:"routeChange"}},m=p,h=(n("034f"),Object(l["a"])(m,i,o,!1,null,null,null));h.options.__file="App.vue";var v=h.exports,b=n("8c4f"),g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("canvas",{attrs:{id:"canvas"}}),n("footer",[t._v("\n    宅神个人网站 ©2018 陕ICP备18005197号-1\n  ")])])}],x=(n("4dcb"),n("a481"),n("28a5"),function(){var t=Date.now(),e=t,n=0,a=1/0,i=0,o=0,s=1/0,r=0,c=0,u=0,l=document.createElement("div");l.id="stats",l.addEventListener("mousedown",function(t){t.preventDefault(),g(++u%2)},!1),l.style.cssText="width:80px;opacity:0.9;cursor:pointer";var d=document.createElement("div");d.id="fps",d.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",l.appendChild(d);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",d.appendChild(f);var p=document.createElement("div");for(p.id="fpsGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",d.appendChild(p);74>p.children.length;){var m=document.createElement("span");m.style.cssText="width:1px;height:30px;float:left;background-color:#113",p.appendChild(m)}var h=document.createElement("div");h.id="ms",h.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",l.appendChild(h);var v=document.createElement("div");v.id="msText",v.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",v.innerHTML="MS",h.appendChild(v);var b=document.createElement("div");for(b.id="msGraph",b.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",h.appendChild(b);74>b.children.length;){m=document.createElement("span");m.style.cssText="width:1px;height:30px;float:left;background-color:#131",b.appendChild(m)}var g=function(t){switch(u=t){case 0:d.style.display="block",h.style.display="none";break;case 1:d.style.display="none",h.style.display="block"}},y=function(t,e){var n=t.appendChild(t.firstChild);n.style.height=e+"px"};return{REVISION:11,domElement:l,setMode:g,begin:function(){t=Date.now()},end:function(){var u=Date.now();return n=u-t,a=Math.min(a,n),i=Math.max(i,n),v.textContent=n+" MS ("+a+"-"+i+")",y(b,Math.min(30,30-n/200*30)),c++,u>e+1e3&&(o=Math.round(1e3*c/(u-e)),s=Math.min(s,o),r=Math.max(r,o),f.textContent=o+" FPS ("+s+"-"+r+")",y(p,Math.min(30,30-o/100*30)),e=u,c=0),u},update:function(){t=this.end()}}}),w=function(){var t,e,n,a,i,o={},s=[],r={};function c(t){this.init(t||{})}function u(t){this.init(t||{})}function l(t){document.removeEventListener("mousemove",l),document.removeEventListener("touchstart",l),document.addEventListener("mousemove",v),document.addEventListener("touchmove",v),document.addEventListener("touchstart",b),v(t),d(),f()}function d(){s=[];for(var t=0;t<r.trails;t++)s.push(new u({spring:.45+t/r.trails*.025}))}function f(){if(t.running){t.globalCompositeOperation="source-over",t.fillStyle="rgba(8,5,16,0.4)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.globalCompositeOperation="lighter",t.strokeStyle="hsla("+Math.round(e.update())+",90%,50%,0.25)",t.lineWidth=1,t.frame%60==0&&console.log(e.update(),Math.round(e.update()),e.phase,e.offset,e.frequency,e.amplitude);for(var n,a=0;a<r.trails;a++)n=s[a],n.update(),n.draw();t.frame++,t.stats.update(),requestAnimFrame(f)}}function p(){t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight}function m(){t.running||(t.running=!0,f())}function h(){t.running=!1}function v(t){t.touches?(o.x=t.touches[0].pageX,o.y=t.touches[0].pageY):(o.x=t.clientX,o.y=t.clientY),t.preventDefault()}function b(t){1==t.touches.length&&(o.x=t.touches[0].pageX,o.y=t.touches[0].pageY)}function g(t){switch(t.keyCode){case 32:y();break;default:}}function y(){i||(i=document.createElement("canvas"),i.width=screen.availWidth,i.height=screen.availHeight,i.ctx=i.getContext("2d"),a=document.createElement("form"),a.method="post",a.input=document.createElement("input"),a.input.type="hidden",a.input.name="data",a.appendChild(a.input),document.body.appendChild(a)),i.ctx.fillStyle="rgba(8,5,16)",i.ctx.fillRect(0,0,i.width,i.height),i.ctx.drawImage(canvas,Math.round(i.width/2-canvas.width/2),Math.round(i.height/2-canvas.height/2)),i.ctx.drawImage(n,Math.round(i.width/2-n.width/4),Math.round(i.height/2-n.height/4),n.width/2,n.height/2),window.open(i.toDataURL(),"wallpaper","top=0,left=0,width="+i.width+",height="+i.height)}r.debug=!0,r.friction=.5,r.trails=20,r.size=50,r.dampening=.25,r.tension=.98,Math.TWO_PI=2*Math.PI,c.prototype=function(){var t=0;return{init:function(t){this.phase=t.phase||0,this.offset=t.offset||0,this.frequency=t.frequency||.001,this.amplitude=t.amplitude||1},update:function(){return this.phase+=this.frequency,t=this.offset+Math.sin(this.phase)*this.amplitude,t},value:function(){return t}}}(),u.prototype=function(){function e(){this.x=0,this.y=0,this.vy=0,this.vx=0}return{init:function(t){this.spring=t.spring+.1*Math.random()-.05,this.friction=r.friction+.01*Math.random()-.005,this.nodes=[];for(var n,a=0;a<r.size;a++)n=new e,n.x=o.x,n.y=o.y,this.nodes.push(n)},update:function(){var t=this.spring,e=this.nodes[0];e.vx+=(o.x-e.x)*t,e.vy+=(o.y-e.y)*t;for(var n,a=0,i=this.nodes.length;a<i;a++)e=this.nodes[a],a>0&&(n=this.nodes[a-1],e.vx+=(n.x-e.x)*t,e.vy+=(n.y-e.y)*t,e.vx+=n.vx*r.dampening,e.vy+=n.vy*r.dampening),e.vx*=this.friction,e.vy*=this.friction,e.x+=e.vx,e.y+=e.vy,t*=r.tension},draw:function(){var e,n,a=this.nodes[0].x,i=this.nodes[0].y;t.beginPath(),t.moveTo(a,i);for(var o=1,s=this.nodes.length-2;o<s;o++)e=this.nodes[o],n=this.nodes[o+1],a=.5*(e.x+n.x),i=.5*(e.y+n.y),t.quadraticCurveTo(e.x,e.y,a,i);e=this.nodes[o],n=this.nodes[o+1],t.quadraticCurveTo(e.x,e.y,n.x,n.y),t.stroke(),t.closePath()}}}(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.onload=function(){if(t=document.getElementById("canvas").getContext("2d"),t.stats=new x,t.running=!0,t.frame=1,e=new c({phase:Math.random()*Math.TWO_PI,amplitude:85,frequency:.0015,offset:285}),document.addEventListener("mousemove",l),document.addEventListener("touchstart",l),document.body.addEventListener("orientationchange",p),window.addEventListener("resize",p),window.addEventListener("keyup",g),window.addEventListener("focus",m),window.addEventListener("blur",h),p(),window.DEBUG){new dat.GUI;r.gui.add(r,"trails",1,30).onChange(d),r.gui.add(r,"size",25,75).onFinishChange(d),r.gui.add(r,"friction",.45,.55).onFinishChange(d),r.gui.add(r,"dampening",.01,.4).onFinishChange(d),r.gui.add(r,"tension",.95,.999).onFinishChange(d),document.body.appendChild(t.stats.domElement)}}},_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel1",controls:"",indicators:"",background:"#ababab",interval:4e3,"img-width":"1024","img-height":"480"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[n("b-carousel-slide",{attrs:{caption:"First slide",text:"Nulla vitae elit libero, a pharetra augue mollis interdum.","img-src":"http://qiniu.s001.xin/rg4bu.jpg/1024/480"}}),n("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/480/?image=54"}},[n("b-jumbotron",{attrs:{header:"年轻！就是要敢拼敢做",lead:"有梦想！就要勇于实现"}},[n("p",[t._v("For more information visit website")]),n("b-btn",{attrs:{variant:"primary",href:"#"}},[t._v("More Info")])],1)],1),n("b-carousel-slide",{attrs:{"img-src":"https://picsum.photos/1024/480/?image=58"}}),n("b-carousel-slide",[n("img",{staticClass:"d-block img-fluid w-100",attrs:{slot:"img",width:"1024",height:"480",src:"https://picsum.photos/1024/480/?image=55",alt:"image slot"},slot:"img"})]),n("b-carousel-slide",{attrs:{caption:"Blank Image","img-blank":"","img-alt":"Blank image"}},[n("p",[t._v("\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse\n                eros felis, tincidunt a tincidunt eget, convallis vel est. Ut pellentesque\n                ut lacus vel interdum.\n            ")])])],1)],1)},k=[],C={data:function(){return{slide:0,sliding:null}},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}}},S=C,E=Object(l["a"])(S,_,k,!1,null,null,null);E.options.__file="Banner.vue";var I=E.exports,L={name:"home",components:{Banner:I},mounted:function(){w()},created:function(){w()}},T=L,O=(n("cccb"),Object(l["a"])(T,g,y,!1,null,null,null));O.options.__file="Home.vue";var R=O.exports,M=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("大家好，我是宅神👌")]),n("p",[t._v("此网站作为一个个人生活分享的平台，类似于朋友圈")]),n("p",[t._v("放置需要展示或者记录的一些图片，视频等")]),n("p",[t._v("同时也作为平时工作中的技术拓展，逐渐将网站完善。")]),n("h5",[t._v("— 2018.9.24")])])}],$={},P=Object(l["a"])($,M,j,!1,null,null,null);P.options.__file="About.vue";var N=P.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",{staticStyle:{background:"#eee"},attrs:{gutter:16}},t._l(t.cateList,function(e){return n("Col",{key:e.id,staticStyle:{padding:"20px"},attrs:{span:"8"}},[n("Card",[n("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(n){t.Detail(e.id)}}},[n("img",{attrs:{src:"https://picsum.photos/600/300/?image=25",width:"100%"}}),n("h3",[t._v(t._s(e.title))])])])],1)}))},D=[],A=(n("ac6a"),n("bc3a")),B=n.n(A),G=n("4328"),J=n.n(G),H="https://oj.s001.xin/api",q={baseURL:H};function F(t,e,n,a,i){t=t.toUpperCase()||"GET";var o="",s={params:n};return o="msg"===i?q.onbaseURL:q.baseURL,B.a.defaults.baseURL=o,"POST"===t?(B.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",B.a.post(e,J.a.stringify(a))):"GET"===t?B.a.get(e,s):B.a.delete(e,J.a.stringify(a))}var U=function(t){return F("GET","/category/all/",t,"")},Q=function(t){return F("GET","/video/all/",t,"")},V=function(t){return F("POST","/image/","",t)},W={name:"ImgCategory",props:{msg:String},data:function(){return{cateList:[]}},created:function(){this.GetCate()},methods:{GetCate:function(){var t=this;U({}).then(function(e){var n=e.data;0==n.code&&n.data&&n.data.forEach(function(e){t.cateList.push({title:e.title,id:e.id})})})},Detail:function(t){this.$router.push("/photo?id="+t)}}},K=W,X=(n("8aac"),Object(l["a"])(K,z,D,!1,null,null,null));X.options.__file="ImgCategory.vue";var Z=X.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",{attrs:{gutter:16}},t._l(t.imgList,function(e){return n("Col",{key:e.id,staticStyle:{padding:"20px"},attrs:{span:"8"}},[n("viewer",{attrs:{images:t.imgList}},[n("img",{staticStyle:{width:"300px",height:"250px"},attrs:{src:e.url}})])],1)}))},tt=[],et=(n("386d"),n("0808"),n("6944")),nt=n.n(et);a["default"].use(nt.a);var at={name:"ImgDetail",props:{msg:String},data:function(){return{id:"",imgList:[]}},created:function(){this.ImgShow()},methods:{ImgShow:function(){var t=document.location.search;t&&(this.id=decodeURIComponent(t.split("=")[1]),this.GetAllImg(this.id))},GetAllImg:function(t){var e=this;V({id:t}).then(function(t){var n=t.data;0==n.code&&n.data&&n.data.forEach(function(t){e.imgList.push({desc:t.desc,id:t.id,url:t.image_url})})})}}},it=at,ot=Object(l["a"])(it,Y,tt,!1,null,null,null);ot.options.__file="ImgDetail.vue";var st=ot.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",{staticStyle:{background:"#eee"},attrs:{gutter:16}},t._l(t.video_list,function(e){return n("Col",{key:e.id,staticStyle:{padding:"20px"},attrs:{span:"8"}},[n("Card",[n("div",{staticStyle:{"text-align":"center",cursor:"pointer"},attrs:{id:e.id},on:{click:function(n){t.ImgShow(e.video_url)}}},[n("img",{attrs:{src:e.small_img,height:"150px"}}),n("h3",[t._v(t._s(e.desc))])])])],1)}))},ct=[],ut={name:"Video",props:{msg:String},data:function(){return{video_list:[]}},created:function(){this.getVideo()},methods:{getVideo:function(){var t=this;Q({}).then(function(e){var n=e.data;n.code||n.data&&n.data.forEach(function(e){t.video_list.push({id:e.id,desc:"【"+e.desc+"】",time_long:e.time_long,video_url:e.video_url,small_img:e.small_img?e.small_img:"https://picsum.photos/1024/480/?image=54"})})})},ImgShow:function(t){this.$router.push("/iframe?url="+t)}}},lt=ut,dt=(n("8a44"),Object(l["a"])(lt,rt,ct,!1,null,null,null));dt.options.__file="Video.vue";var ft=dt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",[n("md-card-media",[n("div",{staticClass:"item"},[n("div",{staticClass:"player"},[n("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.playerOptions,playsinline:!0}})],1)])])],1)},mt=[],ht=(n("71c2"),n("fda2"),n("d6d3")),vt={name:"VideoDetail",props:{msg:String},components:{videoPlayer:ht["videoPlayer"]},data:function(){return{url:"",playerOptions:{height:"360",autoplay:!0,muted:!1,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:""}]}}},created:function(){this.ImgShow()},methods:{ImgShow:function(){var t=document.location.search;t&&(this.playerOptions.sources[0].src=decodeURIComponent(t.split("=")[1]))}}},bt=vt,gt=Object(l["a"])(bt,pt,mt,!1,null,null,null);gt.options.__file="VideoDetail.vue";var yt=gt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",style:t.size},[n("div",{staticClass:"rect",class:t.drop?"drop":""},[n("Decorate"),n("div",{staticClass:"screen"},[n("div",{staticClass:"panel"},[n("Matrix",{attrs:{propMatrix:t.matrix,cur:t.cur,reset:t.reset}}),n("Logo",{attrs:{cur:!!t.cur,reset:t.reset}}),n("div",{staticClass:"state"},[n("Point",{attrs:{cur:!!t.cur,max:t.max,point:t.points}}),n("p",[t._v(t._s(t.pContent))]),n("Number",{attrs:{number:t.cur?t.clearLines:t.startLines}}),n("p",[t._v(t._s(t.level))]),n("Number",{attrs:{number:t.cur?t.speedRun:t.speedStart,length:1}}),n("p",[t._v(t._s(t.nextText))]),n("Next",{attrs:{data:t.next}}),n("div",{staticClass:"bottom"},[n("Music",{attrs:{data:t.music}}),n("Pause",{attrs:{data:t.pause}}),n("Number",{attrs:{propTime:!0}})],1)],1)],1)])],1),n("Keyboard",{attrs:{filling:t.filling}}),n("Guide")],1)},wt=[],_t=n("c93e"),kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"decorate"},[n("div",{staticClass:"topBorder"},[n("span",{staticClass:"l mr",staticStyle:{width:"40px"}}),n("span",{staticClass:"l mr"}),n("span",{staticClass:"l mr"}),n("span",{staticClass:"l mr"}),n("span",{staticClass:"l mr"}),n("span",{staticClass:"r ml",staticStyle:{width:"40px"}}),n("span",{staticClass:"r ml"}),n("span",{staticClass:"r ml"}),n("span",{staticClass:"r ml"}),n("span",{staticClass:"r ml"})]),n("h1",[t._v("俄罗斯方块")]),n("div",{staticClass:"view"},[n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("p"),n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("p"),n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"})]),n("div",{staticClass:"view l"},[n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("p"),n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("em"),n("b",{staticClass:"c"}),n("p"),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"}),n("div",{staticClass:"clear"}),n("b",{staticClass:"c"})])])}],St=(n("7514"),n("6b54"),n("4917"),n("3b2b"),n("456d"),n("cb11")),Et={I:[[1,1,1,1]],L:[[0,0,1],[1,1,1]],J:[[1,0,0],[1,1,1]],Z:[[1,1,0],[0,1,1]],S:[[0,1,1],[1,1,0]],O:[[1,1],[1,1]],T:[[0,1,0],[1,1,1]]},It={I:[[-1,1],[1,-1]],L:[[0,0]],J:[[0,0]],Z:[[0,0]],S:[[0,0]],O:[[0,0]],T:[[0,0],[1,0],[-1,1],[0,-1]]},Lt=Object.keys(Et),Tt=[800,650,500,370,250,160],Ot=[50,60,70,80,90,100],Rt=[1,1,1,1,1,1,1,1,1,1],Mt=[0,0,0,0,0,0,0,0,0,0],jt=function(){for(var t=[],e=0;e<20;e++)t.push(Mt);return t}(),$t=[100,300,700,1500],Pt="VUE_TETRIS",Nt=function(){var t=window.localStorage.getItem(Pt);if(!t)return!1;try{window.btoa&&(t=atob(t)),t=decodeURIComponent(t),t=JSON.parse(t)}catch(t){return(window.console||window.console.error)&&window.console.error("读取记录错误:",t),!1}return t}(),zt=999999,Dt=function(){var t=["transform","webkitTransform","msTransform","mozTransform","oTransform"],e=document.body;return t.filter(function(t){return void 0!==e.style[t]})[0]}(),At=20,Bt=function(t){var e=new RegExp("\\?(?:.+&)?".concat(t,"=(.*?)(?:&.*)?$")),n=window.location.toString().match(e);return n?decodeURI(n[1]):""},Gt=function(){var t=Bt("lan").toLowerCase();return!t&&navigator.languages&&(t=navigator.languages.find(function(t){return-1!==St.lan.indexOf(t)})),t=-1===St.lan.indexOf(t)?St.default:t,t}();document.title=St.data.title[Gt];var Jt=St.data,Ht={name:"Decorate",computed:{github:function(){return Jt.github[Gt]},QRTitle:function(){return Jt.QRNotice[Gt]},QRCode:function(){return Jt.QRCode[Gt]}}},qt=Ht,Ft=(n("21de"),Object(l["a"])(qt,kt,Ct,!1,null,null,null));Ft.options.__file="index.vue";var Ut=Ft.exports,Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}]},[t._m(0),t._m(1)])},Vt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guide right"},[n("div",{staticClass:"up"},[n("em",{staticStyle:{transform:"translate(0,-3px) scale(1,2)"}})]),n("div",{staticClass:"left"},[n("em",{staticStyle:{transform:"translate(-7px,3px) rotate(-90deg) scale(1,2)"}})]),n("div",{staticClass:"down"},[n("em",{staticStyle:{transform:"translate(0,9px) rotate(180deg) scale(1,2)"}})]),n("div",{staticClass:"right"},[n("em",{staticStyle:{transform:"translate(7px,3px)rotate(90deg) scale(1,2)"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guide left"},[n("div",{staticClass:"space"},[t._v("SPACE")])])}],Wt=n("24f7"),Kt=function(){var t=["hidden","webkitHidden","mozHidden","msHidden"];return t=t.filter(function(t){return t in document}),t.length>0&&t[0]}(),Xt={getNextType:function(){var t=Lt.length;return Lt[Math.floor(Math.random()*t)]},want:function(t,e){e=Object(Wt["fromJS"])(e);var n=t.xy,a=Object(Wt["fromJS"])(t.shape),i=a.get(0).size;return a.every(function(t,a){return t.every(function(t,o){return!(n[1]<0)&&(!(n[1]+i>10)&&(n[0]+a<0||!(n[0]+a>=20)&&(!t||!e.get(n[0]+a).get(n[1]+o))))})})},isClear:function(t){var e=[];return t.forEach(function(t,n){t.every(function(t){return!!t})&&e.push(n)}),0!==e.length&&e},isOver:function(t){return Wt["List"].isList(t)&&(t=t.toJS()),t[0].some(function(t){return!!t})},subscribeRecord:function(t){t.subscribe(function(){var e=t.state;e.lock||(e=JSON.stringify(e),e=encodeURIComponent(e),window.btoa&&(e=btoa(e)),window.localStorage.setItem(Pt,e))})},isMobile:function(){var t=navigator.userAgent,e=/Android (\d+\.\d+)/.test(t),n=t.indexOf("iPhone")>-1,a=t.indexOf("iPod")>-1,i=t.indexOf("iPad")>-1,o=t.indexOf("NokiaN")>-1;return e||n||a||i||o},visibilityChangeEvent:function(){return!!Kt&&Kt.replace(/hidden/i,"visibilitychange")}(),isFocus:function(){return!Kt||!document[Kt]}},Zt=Xt.getNextType,Yt=Xt.isMobile,te=Xt.want,ee=Xt.isClear,ne=Xt.isOver,ae=Xt.subscribeRecord,ie=Xt.visibilityChangeEvent,oe=Xt.isFocus,se={name:"Guide",data:function(){return{isMobile:Yt()}},computed:{linkTitle:function(){return Jt.linkTitle[Gt]},github:function(){return Jt.github[Gt]},QRCode:function(){return Jt.QRCode[Gt]},QRTitle:function(){return Jt.QRNotice[Gt]},QRSrc:function(){return window.location.protocol+"//binaryify.github.io/vue-tetris/static/qr.jpeg"}},mounted:function(){window.addEventListener("resize",this.resize.bind(this),!0)},methods:{resize:function(){this.isMobile=Yt()}}},re=se,ce=(n("2dc3"),Object(l["a"])(re,Qt,Vt,!1,null,null,null));ce.options.__file="index.vue";var ue=ce.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"next"},t._l(t.block,function(e,a){return n("div",t._l(e,function(t,e){return n("b",{class:t?"c":""})}))}))},de=[],fe=n("8afe"),pe={I:[1,0],L:[0,0],J:[0,0],Z:[0,0],S:[0,0],O:[0,1],T:[0,0]},me=[[0,0,0,0],[0,0,0,0]],he={props:["data"],mounted:function(){this.build(this.data)},data:function(){return{block:me}},watch:{$props:{deep:!0,handler:function(t){this.build(t.data)}}},methods:{build:function(t){var e=Et[t],n=me.map(function(t){return Object(fe["a"])(t)});e.forEach(function(e,a){e.forEach(function(e,i){e&&(n[a+pe[t][0]][i+pe[t][1]]=1)})}),this.block=n}}},ve=he,be=(n("f7fa"),Object(l["a"])(ve,le,de,!1,null,null,null));be.options.__file="index.vue";var ge=be.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg music",class:t.data?"":"c"})},xe=[],we={props:["data"]},_e=we,ke=(n("aaf8"),Object(l["a"])(_e,ye,xe,!1,null,null,null));ke.options.__file="index.vue";var Ce=ke.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg pause",class:{c:t.showPause}})},Ee=[],Ie={timeout:null},Le={props:["data"],mounted:function(){this.setShake(this.data)},data:function(){return{showPause:!1}},watch:{$props:{deep:!0,handler:function(t){this.setShake(t.data)}}},methods:{setShake:function(t){var e=this;t&&!Ie.timeout&&(Ie.timeout=setInterval(function(){e.showPause=!e.showPause},250)),!t&&Ie.timeout&&(clearInterval(Ie.timeout),this.showPause=!1,Ie.timeout=null)}}},Te=Le,Oe=(n("53d1"),Object(l["a"])(Te,Se,Ee,!1,null,null,null));Oe.options.__file="index.vue";var Re=Oe.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"number"},t._l(t.data,function(t,e){return n("span",{class:"bg s_"+t})}))},je=[],$e=(n("c5f6"),function(t){return t<10?"0".concat(t).split(""):"".concat(t).split("")}),Pe={timeInterval:null,time_count:null},Ne={watch:{$props:{deep:!0,handler:function(t){this.render()}}},props:{propTime:{type:Boolean},number:{type:Number},length:{type:Number,default:6}},data:function(){return{time_count:"",time:new Date,data:[]}},destroyed:function(){this.propTime&&clearTimeout(Pe.timeInterval)},methods:{render:function(){if(this.propTime){var t=this.time,e=$e(t.getHours()),n=$e(t.getMinutes()),a=t.getSeconds()%2,i=e.concat(a?"d":"d_c",n);this.data=i}else{for(var o="".concat(this.number).split(""),s=0,r=this.length-o.length;s<r;s++)o.unshift("n");this.data=o}}},beforeMount:function(){var t=this;if(this.length||(this.length=6),this.propTime){var e=function e(){var n=+Pe.timeInterval;Pe.timeInterval=setTimeout(function(){t.time=new Date,t.time_count=n,t.render(),e()},1e3)};e()}},mounted:function(){this.render()}},ze=Ne,De=(n("e33d"),Object(l["a"])(ze,Me,je,!1,null,null,null));De.options.__file="index.vue";var Ae=De.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v(t._s(t.label))]),n("Number",{attrs:{number:t.number}})],1)},Ge=[],Je=Jt.point[Gt],He=Jt.highestScore[Gt],qe=Jt.lastRound[Gt],Fe={timeout:null},Ue={props:["cur","point","max"],mounted:function(){this.onChange(this.$props)},components:{Number:Ae},data:function(){return{label:"",number:0}},watch:{$props:{deep:!0,handler:function(t){this.onChange(t)}}},methods:{onChange:function(t){var e=this,n=t.cur,a=t.point,i=t.max;if(clearInterval(Fe.timeout),n)this.label=a>=i?He:Je,this.number=a;else{var o=function t(){e.label=qe,e.number=a,Fe.timeout=setTimeout(function(){e.label=He,e.number=i,Fe.timeout=setTimeout(t,3e3)},3e3)};0!==a?o():(this.label=He,this.number=i)}}}},Qe=Ue,Ve=Object(l["a"])(Qe,Be,Ge,!1,null,null,null);Ve.options.__file="index.vue";var We=Ve.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keyboard",style:"margin-top:"+t.fillingNum+"px"},[n("vbutton",{ref:"dom_rotate",attrs:{color:"blue",size:"s1",top:0,left:374,label:t.rotation,arrow:"translate(0, 63px)",position:!0,active:t.keyboard["rotate"]}}),n("vbutton",{ref:"dom_down",attrs:{color:"blue",size:"s1",top:180,left:374,label:t.labelDown,arrow:"translate(0,-71px) rotate(180deg)",active:t.keyboard["down"]}}),n("vbutton",{ref:"dom_left",attrs:{color:"blue",size:"s1",top:90,left:284,label:t.labelLeft,arrow:"translate(60px, -12px) rotate(270deg)",active:t.keyboard["left"]}}),n("vbutton",{ref:"dom_right",attrs:{color:"blue",size:"s1",top:90,left:464,label:t.labelRight,arrow:"translate(-60px, -12px) rotate(90deg)",active:t.keyboard["right"]}}),n("vbutton",{ref:"dom_space",attrs:{color:"blue",size:"s0",top:100,left:52,label:t.labelDropSpace,active:t.keyboard["drop"]}}),n("vbutton",{ref:"dom_r",attrs:{color:"red",size:"s2",top:0,left:196,label:t.labelResetR,active:t.keyboard["reset"]}}),n("vbutton",{ref:"dom_s",attrs:{color:"green",size:"s2",top:0,left:106,label:t.labelSoundS,active:t.keyboard["music"]}}),n("vbutton",{ref:"dom_p",attrs:{color:"green",size:"s2",top:0,left:16,label:t.labelPauseP,active:t.keyboard["pause"]}})],1)},Xe=[],Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button",class:t.color+" "+t.size,style:"top:"+t.top+"px;left:"+t.left+"px"},[n("i",{class:{active:t.active}}),n("em",{directives:[{name:"show",rawName:"v-show",value:"s1"===t.size,expression:"size==='s1'"}],style:"transform:"+t.arrow+" scale(1,2)"}),n("span",{class:t.position?"position":""},[t._v("\n    "+t._s(t.label)+"\n  ")])])},Ye=[],tn={props:["active","color","size","top","left","label","position","arrow"]},en=tn,nn=(n("5297"),Object(l["a"])(en,Ze,Ye,!1,null,null,null));nn.options.__file="index.vue";var an=nn.exports,on=n("2f62"),sn=n("c665"),rn=n("aa9a"),cn=function(){function t(e){if(Object(sn["a"])(this,t),this.type=e.type,e.rotateIndex?this.rotateIndex=e.rotateIndex:this.rotateIndex=0,e.timeStamp?this.timeStamp=e.timeStamp:this.timeStamp=Date.now(),e.shape?this.shape=e.shape:this.shape=Et[e.type],e.xy)this.xy=e.xy;else switch(e.type){case"I":this.xy=[0,3];break;case"L":this.xy=[-1,4];break;case"J":this.xy=[-1,4];break;case"Z":this.xy=[-1,4];break;case"S":this.xy=[-1,4];break;case"O":this.xy=[-1,4];break;case"T":this.xy=[-1,4];break;default:break}}return Object(rn["a"])(t,[{key:"rotate",value:function(){var t=Object(Wt["fromJS"])(this.shape),e=Object(Wt["List"])([]);t.forEach(function(t){return t.forEach(function(n,a){var i=t.size-a-1;void 0===e.get(i)&&(e=e.set(i,Object(Wt["List"])([])));var o=e.get(i).push(n);e=e.set(i,o)})});var n=[this.xy[0]+It[this.type][this.rotateIndex][0],this.xy[1]+It[this.type][this.rotateIndex][1]],a=this.rotateIndex+1>=It[this.type].length?0:this.rotateIndex+1;return{shape:e.toJS(),type:this.type,xy:n,rotateIndex:a,timeStamp:this.timeStamp}}},{key:"fall",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{shape:this.shape,type:this.type,xy:[this.xy[0]+t,this.xy[1]],rotateIndex:this.rotateIndex,timeStamp:Date.now()}}},{key:"right",value:function(){return{shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]+1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp}}},{key:"left",value:function(){return{shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]-1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp}}}]),t}(),un=cn,ln={nextBlock:function(t,e){e||(e=Zt()),t.next=e},moveBlock:function(t,e){t.cur=!0===e.reset?null:new un(e)},speedStart:function(t,e){t.speedStart=e},speedRun:function(t,e){t.speedRun=e},startLines:function(t,e){t.startLines=e},matrix:function(t,e){t.matrix=e},lock:function(t,e){t.lock=e},clearLines:function(t,e){t.clearLines=e},points:function(t,e){t.points=e},max:function(t,e){t.max=e},reset:function(t,e){t.reset=e},drop:function(t,e){t.drop=e},pause:function(t,e){t.pause=e},music:function(t,e){t.music=e},focus:function(t,e){t.focus=e},key_drop:function(t,e){t.keyboard["drop"]=e},key_down:function(t,e){t.keyboard["down"]=e},key_left:function(t,e){t.keyboard["left"]=e},key_right:function(t,e){t.keyboard["right"]=e},key_rotate:function(t,e){t.keyboard["rotate"]=e},key_reset:function(t,e){t.keyboard["reset"]=e},key_music:function(t,e){t.keyboard["music"]=e},key_pause:function(t,e){t.keyboard["pause"]=e}},dn=ln,fn=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,pn={data:!!fn&&-1!==location.protocol.indexOf("http")},mn={};(function(){if(pn.data){var t="https://oj.s001.xin/api/fileadmin/download/music.mp3",e=new fn,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(t){var n=function(){var n=e.createBufferSource();return n.buffer=t,n.connect(e.destination),n};mn.killStart=function(){mn.start=function(){}},mn.start=function(){mn.killStart(),Rn.state.music&&n().start(0,3.7202,3.6224)},mn.clear=function(){Rn.state.music&&n().start(0,0,.7675)},mn.fall=function(){Rn.state.music&&n().start(0,1.2558,.3546)},mn.gameover=function(){Rn.state.music&&n().start(0,8.1276,1.1437)},mn.rotate=function(){Rn.state.music&&n().start(0,2.2471,.0807)},mn.move=function(){Rn.state.music&&n().start(0,2.9088,.1437)}},function(e){window.console&&window.console.error&&(window.console.error("音频: ".concat(t," 读取错误"),e),pn.data=!1)})},n.send()}})();var hn=n("24f7");hn.fromJS,hn.List;a["default"].use(on["a"]);var vn=Nt&&!isNaN(parseInt(Nt.clearLines,10))?parseInt(Nt.clearLines,10):0;vn<0&&(vn=0);var bn=function(){if(!Nt||!Nt.cur)return null;var t=Nt.cur,e={type:t.type,rotateIndex:t.rotateIndex,shape:t.shape,xy:t.xy};return new un(e)}(),gn=!(!Nt||void 0===Nt.drop)&&!!Nt.drop,yn=!(!Nt||void 0===Nt.lock)&&!!Nt.lock,xn=Nt&&Array.isArray(Nt.matrix)?Nt.matrix:jt,wn=Nt&&!isNaN(parseInt(Nt.max,10))?parseInt(Nt.max,10):0;wn<0?wn=0:wn>zt&&(wn=zt);var _n=!Nt||void 0===Nt.music||!!Nt.music;pn.data||(_n=!1);var kn=Nt&&-1!==Lt.indexOf(Nt.next)?Nt.next:Zt(),Cn=!(!Nt||void 0===Nt.pause)&&!!Nt.pause,Sn=Nt&&!isNaN(parseInt(Nt.points,10))?parseInt(Nt.points,10):0;Sn<0?Sn=0:Sn>zt&&(Sn=zt);var En=Nt&&!isNaN(parseInt(Nt.speedRun,10))?parseInt(Nt.speedRun,10):1;(En<1||En>6)&&(En=1);var In=Nt&&!isNaN(parseInt(Nt.speedStart,10))?parseInt(Nt.speedStart,10):1;(In<1||In>6)&&(In=1);var Ln=Nt&&!isNaN(parseInt(Nt.startLines,10))?parseInt(Nt.startLines,10):0;(Ln<0||Ln>10)&&(Ln=0);var Tn=!(!Nt||!Nt.reset)&&!!Nt.reset,On={music:_n,pause:Cn,matrix:xn,next:kn,cur:bn,speedStart:In,speedRun:En,startLines:Ln,clearLines:vn,points:Sn,max:wn,reset:Tn,drop:gn,keyboard:{drop:!1,down:!1,left:!1,right:!1,rotate:!1,reset:!1,music:!1,pause:!1},lock:yn,focus:oe()},Rn=new on["a"].Store({state:On,mutations:dn}),Mn={},jn=function(t){var e=Object.keys(Mn);if(e.forEach(function(t){clearTimeout(Mn[t]),Mn[t]=null}),t.callback){var n=function(){clearTimeout(Mn[t.key])};if(t.callback(n),!0!==t.once){var a=t.begin||100,i=t.interval||50,o=function e(){Mn[t.key]=setTimeout(function(){a=null,e(),t.callback(n)},a||i)};o()}}},$n=function(t){clearTimeout(Mn[t.key]),Mn[t.key]=null,t.callback&&t.callback()},Pn=function(){var t=Object.keys(Mn);t.forEach(function(t){clearTimeout(Mn[t]),Mn[t]=null})},Nn={down:jn,up:$n,clearAll:Pn},zn=n("24f7"),Dn=zn.fromJS,An=zn.List,Bn=function(t){for(var e=function(t,e){for(var n=parseInt((e-t+1)*Math.random()+t,10),a=[],i=0;i<n;i++)a.push(1);for(var o=0,s=10-n;o<s;o++){var r=parseInt((a.length+1)*Math.random(),10);a.splice(r,0,0)}return An(a)},n=An([]),a=0;a<t;a++)n=a<=2?n.push(e(5,8)):a<=6?n.push(e(4,9)):n.push(e(3,9));for(var i=0,o=20-t;i<o;i++)n=n.unshift(An(Mt));return n.toJS()},Gn={fallInterval:null,start:function(){mn.start&&mn.start();var t=Rn.state;Gn.dispatchPoints(0),Rn.commit("speedRun",t.speedStart);var e=t.startLines,n=Bn(e);Rn.commit("matrix",n),Rn.commit("moveBlock",{type:t.next}),Rn.commit("nextBlock",""),Gn.auto()},auto:function(t){var e=t<0?0:t,n=Rn.state,a=n.cur,i=function t(){n=Rn.state,a=n.cur;var e=a.fall();if(te(e,n.matrix))Rn.commit("moveBlock",e),Gn.fallInterval=setTimeout(t,Tt[n.speedRun-1]);else{var i=Dn(n.matrix),o=a&&a.shape,s=Dn(a&&a.xy);o.forEach(function(t,e){return t.forEach(function(t,n){if(t&&s.get(0)+e>=0){var a=i.get(s.get(0)+e);a=a.set(s.get(1)+n,1),i=i.set(s.get(0)+e,a)}})}),Gn.nextAround(i)}};clearTimeout(Gn.fallInterval),Gn.fallInterval=setTimeout(i,void 0===e?Tt[n.speedRun-1]:e)},nextAround:function(t,e){clearTimeout(Gn.fallInterval),Rn.commit("lock",!0),Rn.commit("matrix",t),"function"===typeof e&&e();var n=Rn.state.points+10+2*(Rn.state.speedRun-1);if(Gn.dispatchPoints(n),!ee(t))return ne(t)?(mn.gameover&&mn.gameover(),void Gn.overStart()):void setTimeout(function(){Rn.commit("lock",!1),Rn.commit("moveBlock",{type:Rn.state.next}),Rn.commit("nextBlock",""),Gn.auto()},100);mn.clear&&mn.clear()},focus:function(t){if(Rn.commit("focus",t),t){var e=Rn.state;!e.cur||e.reset||e.pause||Gn.auto()}else clearTimeout(Gn.fallInterval)},pause:function(t){Rn.commit("pause",t),t?clearTimeout(Gn.fallInterval):Gn.auto()},clearLines:function(t,e){var n=Rn.state,a=Dn(t);e.forEach(function(t){a=a.splice(t,1),a=a.unshift(An(Mt))}),Rn.commit("matrix",a.toJS()),Rn.commit("moveBlock",{type:n.next}),Rn.commit("nextBlock",""),Gn.auto(),Rn.commit("lock",!1);var i=n.clearLines+e.length;Rn.commit("clearLines",i);var o=Rn.state.points+$t[e.length-1];Gn.dispatchPoints(o);var s=Math.floor(i/At),r=n.speedStart+s;r=r>6?6:r,Rn.commit("speedRun",r)},overStart:function(){clearTimeout(Gn.fallInterval),Rn.commit("lock",!0),Rn.commit("reset",!0),Rn.commit("pause",!1)},overEnd:function(){Rn.commit("matrix",jt),Rn.commit("moveBlock",{reset:!0}),Rn.commit("reset",!1),Rn.commit("lock",!1),Rn.commit("clearLines",0)},dispatchPoints:function(t){Rn.commit("points",t),t>0&&t>Rn.state.max&&Rn.commit("max",t)}},Jn=Gn,Hn=function(t){t.commit("key_left",!0),Nn.down({key:"left",begin:200,interval:100,callback:function(){var e=t.state;if(!e.lock){mn.move&&mn.move();var n=e.cur;if(null!==n){if(e.pause)return void Jn.pause(!1);var a,i=n.left(),o=Ot[e.speedRun-1];te(i,e.matrix)?(i.timeStamp+=parseInt(o,10),t.commit("moveBlock",i),a=i.timeStamp):(n.timeStamp+=parseInt(parseInt(o,10)/1.5,10),t.commit("moveBlock",n),a=n.timeStamp);var s=Tt[e.speedRun-1]-(Date.now()-a);Jn.auto(s)}else{var r=e.speedStart;r=r-1<1?6:r-1,t.commit("speedStart",r)}}}})},qn=function(t){t.commit("key_left",!1),Nn.up({key:"left"})},Fn={down:Hn,up:qn},Un=function(t){t.commit("key_right",!0),Nn.down({key:"right",begin:200,interval:100,callback:function(){var e=t.state;if(!e.lock){mn.move&&mn.move();var n=e.cur;if(null!==n){if(e.pause)return void Jn.pause(!1);var a,i=n.right(),o=Ot[e.speedRun-1];te(i,e.matrix)?(i.timeStamp+=parseInt(o,10),t.commit("moveBlock",i),a=i.timeStamp):(n.timeStamp+=parseInt(parseInt(o,10)/1.5,10),t.commit("moveBlock",n),a=n.timeStamp);var s=Tt[e.speedRun-1]-(Date.now()-a);Jn.auto(s)}else{var r=e.speedStart;r=r+1>6?1:r+1,t.commit("speedStart",r)}}}})},Qn=function(t){t.commit("key_right",!1),Nn.up({key:"right"})},Vn={down:Un,up:Qn},Wn=function(t){t.commit("key_down",!0),null!==t.state.cur?Nn.down({key:"down",begin:40,interval:40,callback:function(e){var n=t.state;if(!n.lock){mn.move&&mn.move();var a=n.cur;if(null!==a)if(n.pause)Jn.pause(!1);else{var i=a.fall();if(te(i,n.matrix))t.commit("moveBlock",i),Jn.auto();else{var o=Object(Wt["fromJS"])(n.matrix),s=a.shape,r=Object(Wt["fromJS"])(a.xy);s.forEach(function(t,e){return t.forEach(function(t,n){if(t&&r.get(0)+e>=0){var a=o.get(r.get(0)+e);a=a.set(r.get(1)+n,1),o=o.set(r.get(0)+e,a)}})}),Jn.nextAround(o,e)}}}}}):Nn.down({key:"down",begin:200,interval:100,callback:function(){if(!t.state.lock){var e=t.state,n=e.cur;if(!n){mn.move&&mn.move();var a=e.startLines;a=a-1<0?10:a-1,t.commit("startLines",a)}}}})},Kn=function(t){t.commit("key_down",!1),Nn.up({key:"down"})},Xn={down:Wn,up:Kn},Zn=function(t){t.commit("key_rotate",!0),null!==t.state.cur?Nn.down({key:"rotate",once:!0,callback:function(){var e=t.state;if(!e.lock){e.pause&&Jn.pause(!1);var n=e.cur;if(null!==n){mn.rotate&&mn.rotate();var a=n.rotate();te(a,e.matrix)&&t.commit("moveBlock",a)}}}}):Nn.down({key:"rotate",begin:200,interval:100,callback:function(){if(!t.state.lock){mn.move&&mn.move();var e=t.state,n=e.cur;if(!n){var a=e.startLines;a=a+1>10?0:a+1,t.commit("startLines",a)}}}})},Yn=function(t){t.commit("key_rotate",!1),Nn.up({key:"rotate"})},ta={down:Zn,up:Yn},ea=function(t){t.commit("key_drop",!0),Nn.down({key:"space",once:!0,callback:function(){var e=t.state;if(!e.lock){var n=e.cur;if(null!==n){if(e.pause)return void Jn.pause(!1);mn.fall&&mn.fall();var a=0,i=n.fall(a);while(te(i,e.matrix))i=n.fall(a),a++;var o=Object(Wt["fromJS"])(e.matrix);i=n.fall(a-2),t.commit("moveBlock",i);var s=i.shape,r=i.xy;s.forEach(function(t,e){return t.forEach(function(t,n){if(t&&r[0]+e>=0){var a=o.get(r[0]+e);a=a.set(r[1]+n,1),o=o.set(r[0]+e,a)}})}),t.commit("drop",!0),setTimeout(function(){t.commit("drop",!1)},100),Jn.nextAround(o)}else Jn.start()}}})},na=function(t){t.commit("key_drop",!1),Nn.up({key:"space"})},aa={down:ea,up:na},ia=function(t){t.commit("key_music",!0),t.state.lock||Nn.down({key:"s",once:!0,callback:function(){t.state.lock||t.commit("music",!t.state.music)}})},oa=function(t){t.commit("key_music",!1),Nn.up({key:"s"})},sa={down:ia,up:oa},ra=function(t){t.commit("key_reset",!0),t.state.lock||(null!==t.state.cur?Nn.down({key:"r",once:!0,callback:function(){Jn.overStart()}}):Nn.down({key:"r",once:!0,callback:function(){t.state.lock||Jn.start()}}))},ca=function(t){t.commit("key_reset",!1),Nn.up({key:"r"})},ua={down:ra,up:ca},la=function(t){t.commit("key_pause",!0),Nn.down({key:"p",once:!0,callback:function(){var e=t.state;if(!e.lock){var n=e.cur,a=e.pause;null!==n?Jn.pause(!a):Jn.start()}}})},da=function(t){t.commit("key_pause",!1),Nn.up({key:"p"})},fa={down:la,up:da},pa={left:Fn,down:Xn,rotate:ta,right:Vn,space:aa,r:ua,p:fa,s:sa},ma={props:["filling"],data:function(){return{fillingNum:0}},watch:{$props:{deep:!0,handler:function(t){this.fillingNum=t.filling+20}}},computed:{keyboard:function(){return this.$store.state.keyboard},rotation:function(){return Jt.rotation[Gt]},labelLeft:function(){return Jt.left[Gt]},labelRight:function(){return Jt.right[Gt]},labelDown:function(){return Jt.down[Gt]},labelDropSpace:function(){return"".concat(Jt.drop[Gt]," (SPACE)")},labelResetR:function(){return"".concat(Jt.reset[Gt],"(R)")},labelSoundS:function(){return"".concat(Jt.sound[Gt],"(S)")},labelPauseP:function(){return"".concat(Jt.pause[Gt],"(P)")}},mounted:function(){var t=this,e={},n={};document.addEventListener("touchstart",function(t){t.preventDefault&&t.preventDefault()},!0),document.addEventListener("mousedown",function(t){t.preventDefault&&t.preventDefault()},!0),Object.keys(pa).forEach(function(a){t.$refs["dom_".concat(a)].$el.addEventListener("mousedown",function(){!0!==e[a]&&(pa[a].down(Rn),n[a]=!0)},!0),t.$refs["dom_".concat(a)].$el.addEventListener("mouseup",function(){!0!==e[a]?(pa[a].up(Rn),n[a]=!1):e[a]=!1},!0),t.$refs["dom_".concat(a)].$el.addEventListener("mouseout",function(){!0===n[a]&&pa[a].up(Rn)},!0),t.$refs["dom_".concat(a)].$el.addEventListener("touchstart",function(){e[a]=!0,pa[a].down(Rn)},!0),t.$refs["dom_".concat(a)].$el.addEventListener("touchend",function(){pa[a].up(Rn)},!0)})},components:{Vbutton:an}},ha=ma,va=(n("cf9e"),Object(l["a"])(ha,Ke,Xe,!1,null,null,null));va.options.__file="index.vue";var ba=va.exports,ga=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo",style:"display:"+t.display},[n("div",{staticClass:"bg dragon",class:t.style}),n("p",{domProps:{innerHTML:t._s(t.titleCenter)}})])},ya=[],xa={timeout:null},wa={props:["cur","reset"],data:function(){return{style:"r1",display:"none"}},watch:{$props:{deep:!0,handler:function(t,e){this.animate(t),(-1!==[e.cur,t.cur].indexOf(!1)&&e.cur!==t.cur||e.reset!==t.reset)&&this.animate(t)}}},computed:{titleCenter:function(){return Jt.titleCenter[Gt]}},beforeMount:function(){this.animate(this.$props)},methods:{animate:function(t){var e=this,n=t.cur,a=t.reset;if(clearTimeout(xa.timeout),this.style="r1",this.display="none",n||a)this.display="none";else{var i="r",o=0,s=function(t,e){t&&(xa.timeout=setTimeout(t,e))},r=function(t){s(function(){e.display="block",t&&t()},150)},c=function(t){s(function(){e.display="none",t&&t()},150)},u=function(t,n,a){s(function(){e.style=i+2,s(function(){e.style=i+1,t&&t()},a)},n)},l=function t(n){s(function(){e.style=i+4,s(function(){e.style=i+3,o++,10!==o&&20!==o&&30!==o||(i="r"===i?"l":"r"),o<40?t(n):(e.style=i+1,n&&s(n,4e3))},100)},100)},d=function t(){o=0,u(function(){u(function(){u(function(){e.style=i+2,l(t)},150,150)},150,150)},1e3,1500)};r(function(){c(function(){r(function(){c(function(){r(function(){d()})})})})})}}}},_a=wa,ka=(n("a15d"),Object(l["a"])(_a,ga,ya,!1,null,null,null));ka.options.__file="index.vue";var Ca,Sa,Ea=ka.exports,Ia=setTimeout,La={props:["cur","reset","propMatrix"],watch:{$props:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];this.propsChange(t)},deep:!0}},render:function(){var t,e=arguments[0];return t=this.isOver?this.overState:this.getResult(),t=t.toJS(),e("div",{class:"matrix"},[t.map(function(t,n){return e("p",[t.map(function(t,n){return e("b",{class:(1===t?"c":"")+(2===t?"d":"")})})])})])},data:function(){return{clearLines:!1,animateColor:2,isOver:!1,overState:null}},methods:{propsChange:function(t){var e=this,n=ee(t.propMatrix),a=t.reset;setTimeout(function(){e.clearLines=n,e.isOver=a},0),n&&!this.clearLines&&this.clearAnimate(n),n||!a||this.isOver||this.over(t)},getResult:function(t){t||(t=this.$props);var e=t.cur,n=e&&e.shape,a=Object(Wt["fromJS"])(e&&e.xy),i=Object(Wt["fromJS"])(t.propMatrix),o=this.clearLines;if(o){var s=this.animateColor;o.forEach(function(t){i=i.set(t,Object(Wt["List"])([s,s,s,s,s,s,s,s,s,s]))})}else n&&n.forEach(function(t,e){return t.forEach(function(t,n){if(t&&a.get(0)+e>=0){var s,r=i.get(a.get(0)+e);s=1!==r.get(a.get(1)+n)||o?1:2,r=r.set(a.get(1)+n,s),i=i.set(a.get(0)+e,r)}})});return i},clearAnimate:function(){var t=this,e=function(e){Ia(function(){t.animateColor=0,Ia(function(){t.animateColor=2,"function"===typeof e&&e()},100)},100)};e(function(){e(function(){e(function(){Ia(function(){Jn.clearLines(t.propMatrix,t.clearLines)},100)})})})},over:function(t){var e=this,n=this.getResult(t);this.overState=n;for(var a=function(t){if(t<=19)n=n.set(19-t,Object(Wt["List"])(Rt));else{if(!(t>=20&&t<=39))return void Jn.overEnd();n=n.set(t-20,Object(Wt["List"])(Mt))}e.overState=n},i=0;i<=40;i++)Ia(a.bind(null,i),40*(i+1))}}},Ta=La,Oa=(n("a28e"),Object(l["a"])(Ta,Ca,Sa,!1,null,null,null));Oa.options.__file="index.vue";var Ra=Oa.exports,Ma={mounted:function(){this.render(),window.addEventListener("resize",this.resize.bind(this),!0)},data:function(){return{size:{},w:document.documentElement.clientWidth,h:document.documentElement.clientHeight,filling:""}},components:{Decorate:Ut,Guide:ue,Next:ge,Music:Ce,Pause:Re,Number:Ae,Point:We,Logo:Ea,Keyboard:ba,Matrix:Ra},computed:Object(_t["a"])({pContent:function(){return this.cur?Jt.cleans[Gt]:Jt.startLine[Gt]},level:function(){return Jt.level[Gt]},nextText:function(){return Jt.next[Gt]}},Object(on["b"])(["matrix","keyboard","music","pause","next","cur","speedStart","speedRun","startLines","clearLines","points","max","reset","drop"])),methods:{render:function(){var t=this,e=0,n=function(){var n,a=t.w,i=t.h,o=i/a,s={};return o<1.5?n=i/960:(n=a/640,e=(i-960*n)/n/3,s={"padding-top":Math.floor(e)+42+"px","padding-bottom":Math.floor(e)+"px","margin-top":Math.floor(-480-1.5*e)+"px"}),s[Dt]="scale(".concat(n,")"),s}();this.size=n,this.start(),this.filling=e},resize:function(){this.w=document.documentElement.clientWidth,this.h=document.documentElement.clientHeight,this.render()},start:function(){if(ie&&document.addEventListener(ie,function(){Jn.focus(oe())},!1),Nt){if(Nt.cur&&!Nt.pause){var t=this.$store.state.speedRun,e=Tt[t-1]/2;e=t<Tt[Tt.length-1]?Tt[Tt.length-1]:t,Jn.auto(e)}Nt.cur||Jn.overStart()}else Jn.overStart()}}},ja=Ma,$a=(n("5488"),Object(l["a"])(ja,xt,wt,!1,null,null,null));$a.options.__file="Game.vue";var Pa=$a.exports;a["default"].use(b["a"]);var Na,za=[{path:"/",name:"home",component:R},{path:"/about",name:"about",component:N},{path:"/img_category",name:"category",component:Z},{path:"/photo",name:"photo",component:st},{path:"/video",name:"video",component:ft},{path:"/iframe",name:"video_show",component:yt},{path:"/game",name:"game",component:Pa}],Da=new b["a"]({mode:"history",routes:za}),Aa=Da,Ba=n("e069"),Ga=n.n(Ba),Ja=(n("dcad"),n("a766"),{37:"left",38:"rotate",39:"right",40:"down",32:"space",83:"s",82:"r",80:"p"}),Ha=Object.keys(Ja).map(function(t){return parseInt(t,10)}),qa=function(t){if(!0!==t.metaKey&&-1!==Ha.indexOf(t.keyCode)){var e=Ja[t.keyCode];e!==Na&&(Na=e,pa[e].down(Rn))}},Fa=function(t){if(!0!==t.metaKey&&-1!==Ha.indexOf(t.keyCode)){var e=Ja[t.keyCode];e===Na&&(Na=""),pa[e].up(Rn)}};document.addEventListener("keydown",qa,!0),document.addEventListener("keyup",Fa,!0),ae(Rn),a["default"].use(Ga.a),a["default"].config.productionTip=!1,new a["default"]({router:Aa,store:Rn,render:function(t){return t(v)}}).$mount("#app")},"6ebe":function(t,e,n){},"71c2":function(t,e,n){},"84ba":function(t,e,n){},"8a44":function(t,e,n){"use strict";var a=n("1169"),i=n.n(a);i.a},"8aac":function(t,e,n){"use strict";var a=n("84ba"),i=n.n(a);i.a},9565:function(t,e,n){},a15d:function(t,e,n){"use strict";var a=n("3a93"),i=n.n(a);i.a},a28e:function(t,e,n){"use strict";var a=n("05be"),i=n.n(a);i.a},a32b:function(t,e,n){},a766:function(t,e,n){},aaf8:function(t,e,n){"use strict";var a=n("ced5"),i=n.n(a);i.a},b0ab:function(t,e,n){},cb11:function(t){t.exports={lan:["cn","en","fr","fa"],default:"cn",data:{title:{cn:"Izone",en:"T E T R I S",fr:"T E T R I S",fa:"خانه سازی"},github:{cn:"GitHub",en:"GitHub",fr:"GitHub",fa:"گیت‌هاب"},linkTitle:{cn:"查看源代码",en:"View data source",fr:"Afficher la source des données",fa:"مشاهده سورس پروژه"},QRCode:{cn:"二维码",en:"QR code",fr:"QR code",fa:"کیوآر کد"},QRNotice:{cn:"扫一扫用手机玩",en:"Scan QR code to play with a mobile phone",fr:"Numérisez le code QR pour jouer avec un téléphone mobile",fa:"اسکن کیوآر کد برای بازی در تلفن همراه"},titleCenter:{cn:"俄罗斯方块<br />HouseGod",en:"TETRIS",fr:"TETRIS",fa:"خانه سازی"},point:{cn:"得分",en:"Point",fr:"Score",fa:"امتیاز"},highestScore:{cn:"最高分",en:"Max",fr:"Max",fa:"حداکثر"},lastRound:{cn:"上轮得分",en:"Last Round",fr:"Dernier Tour",fa:"آخرین دور"},cleans:{cn:"消除行",en:"Cleans",fr:"Lignes",fa:"پاک کرد"},level:{cn:"级别",en:"Level",fr:"Difficulté",fa:"سطح"},startLine:{cn:"起始行",en:"Start Line",fr:"Ligne Départ",fa:"خط شروع"},next:{cn:"下一个",en:"Next",fr:"Prochain",fa:"بعدی"},pause:{cn:"暂停",en:"Pause",fr:"Pause",fa:"مکث"},sound:{cn:"音效",en:"Sound",fr:"Sonore",fa:"صدا"},reset:{cn:"重玩",en:"Reset",fr:"Réinitialiser",fa:"ریست"},rotation:{cn:"旋转",en:"Rotation",fr:"Rotation",fa:"چرخش"},left:{cn:"左移",en:"Left",fr:"Gauche",fa:"چپ"},right:{cn:"右移",en:"Right",fr:"Droite",fa:"راست"},down:{cn:"下移",en:"Down",fr:"Bas",fa:"پایین"},drop:{cn:"掉落",en:"Drop",fr:"Tomber",fa:"سقوط"}}}},cccb:function(t,e,n){"use strict";var a=n("3c40"),i=n.n(a);i.a},ced5:function(t,e,n){},cf9e:function(t,e,n){"use strict";var a=n("3a3f"),i=n.n(a);i.a},e311:function(t,e,n){},e33d:function(t,e,n){"use strict";var a=n("6ebe"),i=n.n(a);i.a},f7fa:function(t,e,n){"use strict";var a=n("4b44"),i=n.n(a);i.a}});
//# sourceMappingURL=app.40776a9f.js.map